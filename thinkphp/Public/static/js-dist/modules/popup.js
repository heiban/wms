define([],function(){function p(p){var i=p.id,t=$(i+".popup"),e=p.onSure,c=p.onInit,o=p.onCancel,n=this,u=null;p.cancelTitle&&$(i+".popup .cancel").html(p.cancelTitle),p.sureTitle&&$(i+".popup .sure").html(p.sureTitle),p.title&&$(i+".popup .title").html(p.title),p.width&&$(i+".popup .container").css("width",p.width+"px"),t.unbind("click").on("click",function(p){var i=p.target.className;switch(i){case"close":n.hide();break;case"sure":e(u)&&n.hide();break;case"cancel":o()&&n.hide()}}),this.hide=function(){$popup=$(i+".popup"),$popup.hide(),$popup.css("opacity","0")},this.show=function(p){u=p,c(u)&&($(i+".popup .container").css("margin-top",$(document).height()/15+"px"),$popup=$(i+".popup"),$popup.css("opacity","0"),$popup.show(),$popup.animate({opacity:"1"},300,function(){}))}}return p});